/**
 * ngResourceCollection - Backbone-like collections for AngularJS resources
 * @version v0.2.0 - 2013-06-17
 * @link http://mgcrea.github.com/angular-pull-to-refresh
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.resourceCollection",["ngResource"]).factory("$collection",function(e,r,t){var n=Array.prototype.slice;var i=Array.prototype.splice;var a=angular.extend;var o=angular.forEach;var u=function(r,i,u){var l=e(r,i,u);var c=l.query;a(l,{idAttribute:"_id",models:[],query:function(){var e=c.apply(this,arguments);this.models=e.$promise;return e},getById:function(e){var r=this;return this.find(function(t,n){return t[r.idAttribute]===e})}});var s=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];o(s,function(e){if(!angular.isDefined(_[e]))throw"Unknown _."+e+" method.";l[e]=function(){var r=n.call(arguments);return t.when(l.models,function(t){r.unshift(t);return _[e].apply(_,r)})}});return l};return u});