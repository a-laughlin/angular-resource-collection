/**
 * ngResourceCollection - Backbone-like collections for AngularJS resources
 * @version v0.2.2 - 2013-06-21
 * @link 
 * @author Olivier Louvignes <olivier@mg-crea.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.resourceCollection",["ngResource"]).factory("$collection",["$resource","$filter","$q","$timeout",function(a,b,c){var d=Array.prototype.slice;Array.prototype.splice;var e=angular.extend,f=angular.forEach,g=function(b,g,h){var i=a(b,g,h),j=i.query,k=c.defer();e(i,{idAttribute:"_id",$resolved:!1,$promise:k.promise,$models:k.promise,query:function(){var a=this;return j.apply(this,arguments).$promise.then(function(b){a.$resolved=!0,a.$models.$$v?a.$models.$$v=b:k.resolve(b.$promise)}),this},getById:function(a){var b=this;return this.find(function(c){return c[b.idAttribute]===a})}});var l=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];return f(l,function(a){if(!angular.isDefined(_[a]))throw"Unknown _."+a+" method.";i[a]=function(){var b=d.call(arguments);return c.when(i.$models.$$v||i.$models,function(c){return b.unshift(c),_[a].apply(_,b)})}}),i};return g}]);